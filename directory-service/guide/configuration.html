<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4 Configuration 0.5.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/history.html"><strong>2</strong><span>History</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/installation.html"><strong>3</strong><span>Installation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configuration.html"><strong>4</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/usage.html"><strong>5</strong><span>Usage</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/roadmap.html"><strong>6</strong><span>Roadmap</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/resources.html"><strong>7</strong><span>Resources</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Grails Plugin which makes interacting with directory (LDAP) servers a breeze.
</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/installation.html">&lt;&lt; <strong>3</strong><span>Installation</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/usage.html"><strong>5</strong><span>Usage</span> >></a></div>
                


                <div class="project">
                    <h1>4 Configuration - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Lucas Rockwell</p>

                    <p><strong>Version:</strong> 0.5.0</p>

                    
                </div>

                

                

<h1 id="configuration">4 Configuration</h1>
<h2>Overview</h2><p class="paragraph"/>This section describes how to configure the <code>DirectoryService</code> plugin.<p class="paragraph"/><h2>Define The DIT</h2><p class="paragraph"/>Instead of crawling your LDAP directory, <code>DirectoryService</code> expects you to give it some hints about how your server is set up. Once you configure the plugin, it will become obvious to you how it works.<p class="paragraph"/>Since the DIT definition is a Map, you must put it in a <code>.groovy</code> file. The easiest place to put it is in <code>Config.groovy</code>, but you can put it into any config file you have defined.<p class="paragraph"/>For this example, we are going to assume that our LDAP tree has three branches that we are interested in mapping:<p class="paragraph"/><div class="code"><pre>ou=people,dc=someu,dc=edu
ou=departments,dc=someu,dc=edu
ou=groups,dc=someu,dc=edu</pre></div><p class="paragraph"/>So, we need to tell <code>DirectoryService</code> about these branches, including the singular and plural names of the objects in those branches, the RDN attribute for the objects in those branches, and the source, i.e., what server contains this information.<p class="paragraph"/>The above branches would be defined in the <code>directoryService.dit</code> as follows:<p class="paragraph"/><div class="code"><pre>grails.plugins.directoryservice.dit = &#91;
    'ou=people,dc=someu,dc=edu':&#91;
        'singular':'person',
        'plural':'people',
        'rdnAttribute':'uid',
        'source':'directory'
    &#93;,
    'ou=departments,dc=someu,dc=edu':&#91;
        'singular':'department',
        'plural':'departments',
        'rdnAttribute':'ou',
        'source':'directory'
    &#93;,
    'ou=groups,dc=someu,dc=edu':&#91;
        'singluar':'group',
        'plural':'groups',
        'rdnAttribute':'uid',
        'source':'directory'
    &#93;
&#93;</pre></div><p class="paragraph"/>See the table below for definitions of the various elements of the map:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Attribute</strong></th><th><strong class="bold">Meaning</strong></th><th><strong class="bold">Notes/Example</strong></th></tr><tr class="table-odd"><td>singular</td><td>The singular spelling for the name of the tree.</td><td>This does <strong class="bold">not</strong> have to match the name in the DN.</td></tr><tr class="table-even"><td>plural</td><td>The plural spelling for the name of the tree.</td><td>This does <strong class="bold">not</strong> have to even be the plural version of singular, but you probably what to keep these things consistent for your own sanity.</td></tr><tr class="table-odd"><td>rdnAttribute</td><td>This is the attribute which makes up the RDN of the entry.</td><td>If the DN of a person is <code>uid=125236,ou=people,dc=someu,dc=edu</code>, then the rdnAttribute would be "uid". If the DN of a person is <code>cn=Rockwell&#44; Lucas,ou=people,dc=someu,dc=edu</code>, then the rdnAttribute would be "cn". This <strong class="bold">must</strong> be the real RDN attribute, i.e., you can't make this up.</td></tr><tr class="table-even"><td>source</td><td>This is the source</td><td>This points to an entry in <code>grails.plugins.directoryservice.sources</code>.</td></tr></table><p class="paragraph"/><h3>One Branch, Multiple Objects</h3><p class="paragraph"/>Store more than one object type in the same branch? No problem! Map keys are case sensitive, so you can define multiple objects in the same branch by changing the case of at least one character in the dn. For example, let's say you have both people and accounts in the "people" branch (don't know why you would, but let's just say you do), and the rdnAttribute of people is "uid", and the rdnAttribute of accounts is "cn":<p class="paragraph"/><div class="code"><pre>grails.plugins.directoryservice.dit = &#91;
    'ou=people,dc=someu,dc=edu':&#91;
        singular: 'person',
        plural: 'people',
        rdnAttribute: 'uid',
        source: 'directory'
    &#93;,
    'ou=People,dc=someu,dc=edu':&#91;
        singular: 'account',
        plural: 'accounts',
        rdnAttribute: 'cn',
        source: 'directory'
    &#93;
&#93;</pre></div><p class="paragraph"/>See the examples in the <a href="../guide/single.html#usage" class="guide">Usage</a> section for details on how these various elements are utilized.<p class="paragraph"/><h2>Define Sources</h2><p class="paragraph"/>In the <code>dit</code> definition above, there is an attribute named "source". This points to a directory server configured in <code>grails.plugins.directoryservice.sources</code>. For instance:<p class="paragraph"/><div class="code"><pre>grails.plugins.directoryservice.sources = &#91;
    'directory':&#91;
        address: 'server1,server2',
        port: '636,636',
        useSSL: <span class="java&#45;keyword">true</span>,
        trustSSLCert: <span class="java&#45;keyword">true</span>,
        followReferrals: <span class="java&#45;keyword">true</span>,
        bindDN: 'cn=Directory Manager',
        bindPassword: 'password'
    &#93;
&#93;</pre></div><p class="paragraph"/>See the table below for information on what each attribute means:<p class="paragraph"/>
<h2>More Examples</h2><p class="paragraph"/>For more examples of how to configure the dit and sources, see the <code>Config.groovy</code> file in the main project: <a href="https://github.com/lr/directory-service/blob/master/grails-app/conf/Config.groovy" target="blank"></a>.


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/installation.html">&lt;&lt; <strong>3</strong><span>Installation</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/usage.html"><strong>5</strong><span>Usage</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">DirectoryService</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/DirectoryService/find.html">find</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">DirectoryServiceEntry</h1><div class="menu-sub">
                        
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">InMemoryDirectoryServer</h1><div class="menu-sub">
                        
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
