<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>5 Usage 0.5.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/history.html"><strong>2</strong><span>History</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/installation.html"><strong>3</strong><span>Installation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configuration.html"><strong>4</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/usage.html"><strong>5</strong><span>Usage</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/roadmap.html"><strong>6</strong><span>Roadmap</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/resources.html"><strong>7</strong><span>Resources</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Grails Plugin which makes interacting with directory (LDAP) servers a breeze.
</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/configuration.html">&lt;&lt; <strong>4</strong><span>Configuration</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/roadmap.html"><strong>6</strong><span>Roadmap</span> >></a></div>
                


                <div class="project">
                    <h1>5 Usage - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Lucas Rockwell</p>

                    <p><strong>Version:</strong> 0.5.0</p>

                    
                </div>

                

                

<h1 id="usage">5 Usage</h1>
<h2>Overview</h2><p class="paragraph"/>As noted in the <a href="../guide/single.html#introduction" class="guide">Introduction</a>, <code>DirectoryService</code> is inspired by GORM. Therefore, the methods should be intuitive. This section gives you a brief overview, but please see the Reference Guide for details of each method.<p class="paragraph"/><h2>How it Works</h2><p class="paragraph"/>For more in-depth details of how <code>DirectoryService</code> works, please see the other sections of this guide, including the ref:DirectoryService pages.<p class="paragraph"/><h3>Add DirectoryService to your class</h3><p class="paragraph"/>Once you have <code>DirectoryService</code> <a href="../guide/single.html#configuration" class="guide">configured</a>, you can add it to a class the way you would any other service:<p class="paragraph"/><div class="code"><pre>def directoryService</pre></div><p class="paragraph"/><h3>Search for an object</h3><p class="paragraph"/>Now you can search for something in your directory (again, see the <a href="../guide/single.html#configuration" class="guide">Configuration</a> section) like this:<p class="paragraph"/><div class="code"><pre>def people = directoryService.findPeopleWhere('departmentNumber':'12345', 'manager':'3786258')</pre></div><p class="paragraph"/>The above will return a list of <code>DirectoryServiceEntry</code> objects. A <code>DirectoryServiceEntry</code> object is a wrapper around an UnboundID <code>Entry</code> object, so everything you can do with an <code>Entry</code> object is available to you.<p class="paragraph"/><h3>Use the results</h3><p class="paragraph"/>Once you perform a search, you can then use the object the way you would use a GORM object:<p class="paragraph"/><div class="code"><pre>people.each &#123; person &#45;&#62;
    println <span class="java&#45;quote">"$&#123;person.displayName&#125;, $&#123;person.telephoneNumber&#125;"</span>
&#125;</pre></div><p class="paragraph"/>Now you might say, but this is LDAP, so what happens if the person does not have a <code>telephoneNumber</code> defined in their entry? Nothing! The attribute doesn't exist, it doesn't print anything. This is possible because <code>DirectoryService</code> is based on the UnboundID LDAP SDK, and that SDK allows you to ask for attribute values on attributes that do not exist in the entry, with no ill effects, i.e., no exceptions are thrown. However, the call does return <code>null</code> if there is no attribute with the provided name, so it is best to use the "?" operator if you plan to do something with the value, if that something you plan to do does not like <code>null</code> objects.<p class="paragraph"/>To see how the UnboundID LDAP SDK is being used here, the above <code>person.displayName</code> could also be accomplished with the following:<p class="paragraph"/><div class="code"><pre>person.getEntry().getAttributeValue(<span class="java&#45;quote">"displayName"</span>)</pre></div><p class="paragraph"/>As you can see, we are calling <code>getAttributeValue</code>, so if you want the attribute value<strong class="bold">s</strong>, then you would have to use the special <code>Values()</code> method:<p class="paragraph"/><div class="code"><pre>person.cnValues()</pre></div><p class="paragraph"/>This returns a String array.<p class="paragraph"/><h2>Operations Implemented</h2><p class="paragraph"/>As of the current release, <code>find</code> (<code>search</code>), and <code>save</code> (<code>modify</code>) are implemented. <code>add</code> and <code>delete</code> will be added in upcoming releases. See the <a href="../guide/single.html#roadmap" class="guide">roadmap</a> for details.<p class="paragraph"/><p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/configuration.html">&lt;&lt; <strong>4</strong><span>Configuration</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/roadmap.html"><strong>6</strong><span>Roadmap</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">DirectoryService</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/DirectoryService/find.html">find</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">DirectoryServiceEntry</h1><div class="menu-sub">
                        
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">InMemoryDirectoryServer</h1><div class="menu-sub">
                        
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
